{"id":"Wvf7","dependencies":[{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\storage\\lib-esm\\providers\\axios-http-handler.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\storage\\src\\providers\\axios-http-handler.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\package.json","includedInParent":true,"mtime":1602864672900},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\.babelrc","includedInParent":true,"mtime":1602860561937},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\storage\\package.json","includedInParent":true,"mtime":1602864668865},{"name":"@aws-sdk/protocol-http","loc":{"line":13,"column":29},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\storage\\lib-esm\\providers\\axios-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\protocol-http\\dist\\es\\index.js"},{"name":"@aws-sdk/querystring-builder","loc":{"line":14,"column":33},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\storage\\lib-esm\\providers\\axios-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\querystring-builder\\dist\\es\\index.js"},{"name":"axios","loc":{"line":15,"column":18},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\storage\\lib-esm\\providers\\axios-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\axios\\index.js"},{"name":"@aws-amplify/core","loc":{"line":16,"column":40},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\storage\\lib-esm\\providers\\axios-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\core\\lib-esm\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.AxiosHttpHandler=exports.SEND_PROGRESS_EVENT=void 0;var e=require(\"@aws-sdk/protocol-http\"),t=require(\"@aws-sdk/querystring-builder\"),r=s(require(\"axios\")),o=require(\"@aws-amplify/core\");function s(e){return e&&e.__esModule?e:{default:e}}var n=new o.ConsoleLogger(\"axios-http-handler\"),i=\"sendProgress\";exports.SEND_PROGRESS_EVENT=i;var u=function(){function o(e,t){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t}return o.prototype.destroy=function(){},o.prototype.handle=function(o,s){var u=this.httpOptions.requestTimeout,d=this.emitter,p=o.path;if(o.query){var h=(0,t.buildQueryString)(o.query);h&&(p+=\"?\"+h)}var l=o.port,c=o.protocol+\"//\"+o.hostname+(l?\":\"+l:\"\")+p,f={};f.url=c,f.method=o.method,f.headers=o.headers,delete f.headers.host,o.body?f.data=o.body:f.headers[\"Content-Type\"]&&(f.data=null),d&&(f.onUploadProgress=function(e){d.emit(i,e),n.debug(e)}),f.responseType=\"blob\";var m=[r.default.request(f).then(function(t){return{response:new e.HttpResponse({headers:t.headers,statusCode:t.status,body:t.data})}}).catch(function(e){throw n.error(e),e}),a(u)];return Promise.race(m)},o}();function a(e){return void 0===e&&(e=0),new Promise(function(t,r){e&&setTimeout(function(){var t=new Error(\"Request did not complete within \"+e+\" ms\");t.name=\"TimeoutError\",r(t)},e)})}exports.AxiosHttpHandler=u;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":0}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":13}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":20}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":35}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":43}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":56}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":57}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":64}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":68}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":76}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":93}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":101}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":126}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":128}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":132}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":134}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":142}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":168}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":170}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":178}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":210}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":212}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":214}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":17,"column":0},"generated":{"line":1,"column":222}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":232}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":234}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":242}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":263}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":272}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":274}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":277}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":284}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":287}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":289}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":300}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":302}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":303}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":311}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":314}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":318}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":1,"column":320}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":21,"column":19},"generated":{"line":1,"column":324}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":1,"column":326}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":21,"column":26},"generated":{"line":1,"column":340}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":362}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":364}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":379}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":387}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":407}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":409}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":413}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":415}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":25,"column":1},"generated":{"line":1,"column":426}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":25,"column":1},"generated":{"line":1,"column":435}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":437}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":439}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":447}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":451}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":455}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":457}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":461}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":466}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":478}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":480}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":485}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":493}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":117,"column":0},"generated":{"line":1,"column":495}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":30,"column":1},"generated":{"line":1,"column":502}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":30,"column":1},"generated":{"line":1,"column":504}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":30,"column":1},"generated":{"line":1,"column":514}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":30,"column":1},"generated":{"line":1,"column":522}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":35,"column":1},"generated":{"line":1,"column":535}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":35,"column":1},"generated":{"line":1,"column":537}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":35,"column":1},"generated":{"line":1,"column":547}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":35,"column":1},"generated":{"line":1,"column":554}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":563}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":37,"column":2},"generated":{"line":1,"column":565}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":568}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":572}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":1,"column":574}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":39,"column":34},"generated":{"line":1,"column":579}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":39,"column":46},"generated":{"line":1,"column":591}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":606}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":608}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":1,"column":613}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":621}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":42,"column":13},"generated":{"line":1,"column":623}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":1,"column":625}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":630}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":633}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":43,"column":14},"generated":{"line":1,"column":635}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":1,"column":641}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":642}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":646}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":44,"column":23},"generated":{"line":1,"column":649}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":1,"column":651}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":1,"column":653}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":44,"column":40},"generated":{"line":1,"column":671}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":44,"column":48},"generated":{"line":1,"column":673}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":1,"column":680}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":684}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":687}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":46,"column":16},"generated":{"line":1,"column":691}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":694}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":698}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":700}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":702}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":1,"column":707}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":709}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":51,"column":25},"generated":{"line":1,"column":711}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":51,"column":33},"generated":{"line":1,"column":720}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":51,"column":38},"generated":{"line":1,"column":725}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":51,"column":46},"generated":{"line":1,"column":727}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":52,"column":3},"generated":{"line":1,"column":737}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":1,"column":739}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":1,"column":743}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":1,"column":745}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":53,"column":5},"generated":{"line":1,"column":749}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":751}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":55,"column":43},"generated":{"line":1,"column":753}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":56,"column":2},"generated":{"line":1,"column":756}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":758}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":1,"column":762}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":764}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":57,"column":15},"generated":{"line":1,"column":766}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":57,"column":24},"generated":{"line":1,"column":773}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":57,"column":32},"generated":{"line":1,"column":775}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":782}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":784}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":792}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":58,"column":33},"generated":{"line":1,"column":794}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":809}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":69,"column":22},"generated":{"line":1,"column":811}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":819}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":824}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":826}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":72,"column":3},"generated":{"line":1,"column":831}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":72,"column":16},"generated":{"line":1,"column":833}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":72,"column":23},"generated":{"line":1,"column":838}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":72,"column":31},"generated":{"line":1,"column":840}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":82,"column":7},"generated":{"line":1,"column":845}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":82,"column":20},"generated":{"line":1,"column":847}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":82,"column":28},"generated":{"line":1,"column":855}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":83,"column":4},"generated":{"line":1,"column":873}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":83,"column":17},"generated":{"line":1,"column":875}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":83,"column":24},"generated":{"line":1,"column":880}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":886}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":87,"column":3},"generated":{"line":1,"column":890}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":87,"column":16},"generated":{"line":1,"column":892}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":87,"column":35},"generated":{"line":1,"column":909}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":87,"column":44},"generated":{"line":1,"column":918}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":88,"column":4},"generated":{"line":1,"column":921}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":88,"column":12},"generated":{"line":1,"column":923}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":88,"column":17},"generated":{"line":1,"column":928}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":88,"column":38},"generated":{"line":1,"column":930}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":89,"column":4},"generated":{"line":1,"column":933}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":935}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":89,"column":17},"generated":{"line":1,"column":941}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":94,"column":2},"generated":{"line":1,"column":946}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":94,"column":15},"generated":{"line":1,"column":948}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":94,"column":30},"generated":{"line":1,"column":961}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":968}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":972}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":96,"column":25},"generated":{"line":1,"column":974}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":97,"column":3},"generated":{"line":1,"column":975}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":98,"column":5},"generated":{"line":1,"column":977}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":98,"column":5},"generated":{"line":1,"column":985}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":98,"column":13},"generated":{"line":1,"column":993}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":99,"column":5},"generated":{"line":1,"column":996}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":1001}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":1010}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":1013}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":100,"column":12},"generated":{"line":1,"column":1019}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":101,"column":6},"generated":{"line":1,"column":1020}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1029}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":101,"column":20},"generated":{"line":1,"column":1033}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1035}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":101,"column":33},"generated":{"line":1,"column":1048}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":102,"column":7},"generated":{"line":1,"column":1049}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":102,"column":16},"generated":{"line":1,"column":1057}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":102,"column":25},"generated":{"line":1,"column":1059}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":103,"column":7},"generated":{"line":1,"column":1067}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":103,"column":19},"generated":{"line":1,"column":1078}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":103,"column":28},"generated":{"line":1,"column":1080}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":104,"column":7},"generated":{"line":1,"column":1087}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":1,"column":1092}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":104,"column":22},"generated":{"line":1,"column":1094}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":108,"column":5},"generated":{"line":1,"column":1104}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1110}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1119}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":1,"column":1122}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":110,"column":5},"generated":{"line":1,"column":1128}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":110,"column":12},"generated":{"line":1,"column":1130}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":110,"column":18},"generated":{"line":1,"column":1136}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":111,"column":11},"generated":{"line":1,"column":1139}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":113,"column":3},"generated":{"line":1,"column":1143}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":113,"column":18},"generated":{"line":1,"column":1145}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":115,"column":9},"generated":{"line":1,"column":1149}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":115,"column":9},"generated":{"line":1,"column":1156}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":115,"column":17},"generated":{"line":1,"column":1164}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":115,"column":22},"generated":{"line":1,"column":1169}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":117,"column":0},"generated":{"line":1,"column":1173}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":1175}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":1178}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":119,"column":9},"generated":{"line":1,"column":1187}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":119,"column":24},"generated":{"line":1,"column":1189}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":1192}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":119,"column":24},"generated":{"line":1,"column":1204}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":119,"column":24},"generated":{"line":1,"column":1208}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":119,"column":24},"generated":{"line":1,"column":1212}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":119,"column":24},"generated":{"line":1,"column":1214}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":1217}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":120,"column":12},"generated":{"line":1,"column":1221}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":120,"column":20},"generated":{"line":1,"column":1229}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":120,"column":21},"generated":{"line":1,"column":1238}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":120,"column":30},"generated":{"line":1,"column":1240}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":121,"column":6},"generated":{"line":1,"column":1243}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":122,"column":3},"generated":{"line":1,"column":1246}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":122,"column":14},"generated":{"line":1,"column":1257}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":123,"column":10},"generated":{"line":1,"column":1268}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":123,"column":10},"generated":{"line":1,"column":1272}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":123,"column":25},"generated":{"line":1,"column":1274}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":123,"column":29},"generated":{"line":1,"column":1278}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":124,"column":5},"generated":{"line":1,"column":1284}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":124,"column":40},"generated":{"line":1,"column":1319}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":124,"column":51},"generated":{"line":1,"column":1321}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":126,"column":4},"generated":{"line":1,"column":1328}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":126,"column":17},"generated":{"line":1,"column":1330}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":126,"column":24},"generated":{"line":1,"column":1335}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":127,"column":4},"generated":{"line":1,"column":1350}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":127,"column":11},"generated":{"line":1,"column":1352}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":128,"column":6},"generated":{"line":1,"column":1356}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":1361}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":1369}},{"source":"../../src/providers/axios-http-handler.ts","name":null,"original":{"line":131,"column":1},"generated":{"line":1,"column":1386}}],"sources":{"../../src/providers/axios-http-handler.ts":"/*\r\n * Copyright 2017-2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\r\n\r\nimport { HttpHandlerOptions } from '@aws-sdk/types';\r\nimport { HttpHandler, HttpRequest, HttpResponse } from '@aws-sdk/protocol-http';\r\nimport { buildQueryString } from '@aws-sdk/querystring-builder';\r\nimport axios, { AxiosRequestConfig, Method } from 'axios';\r\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\r\nimport { BrowserHttpOptions } from '@aws-sdk/fetch-http-handler';\r\n\r\nconst logger = new Logger('axios-http-handler');\r\nexport const SEND_PROGRESS_EVENT = 'sendProgress';\r\n\r\nexport class AxiosHttpHandler implements HttpHandler {\r\n\tconstructor(\r\n\t\tprivate readonly httpOptions: BrowserHttpOptions = {},\r\n\t\tprivate readonly emitter?: any\r\n\t) {}\r\n\r\n\tdestroy(): void {\r\n\t\t// Do nothing. TLS and HTTP/2 connection pooling is handled by the\r\n\t\t// browser.\r\n\t}\r\n\r\n\thandle(\r\n\t\trequest: HttpRequest,\r\n\t\toptions: HttpHandlerOptions\r\n\t): Promise<{ response: HttpResponse }> {\r\n\t\tconst requestTimeoutInMs = this.httpOptions.requestTimeout;\r\n\t\tconst emitter = this.emitter;\r\n\r\n\t\tlet path = request.path;\r\n\t\tif (request.query) {\r\n\t\t\tconst queryString = buildQueryString(request.query);\r\n\t\t\tif (queryString) {\r\n\t\t\t\tpath += `?${queryString}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst port = request.port;\r\n\t\tconst url = `${request.protocol}//${request.hostname}${\r\n\t\t\tport ? `:${port}` : ''\r\n\t\t}${path}`;\r\n\r\n\t\tconst axiosRequest: AxiosRequestConfig = {};\r\n\t\taxiosRequest.url = url;\r\n\t\taxiosRequest.method = request.method as Method;\r\n\t\taxiosRequest.headers = request.headers;\r\n\r\n\t\t// The host header is automatically added by the browser and adding it explicitly in the\r\n\t\t// axios request throws an error https://github.com/aws-amplify/amplify-js/issues/5376\r\n\t\t// This is because the host header is a forbidden header for the http client to set\r\n\t\t// see https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name and\r\n\t\t// https://fetch.spec.whatwg.org/#forbidden-header-name\r\n\t\t// The reason we are removing this header here instead of in the aws-sdk's client\r\n\t\t// middleware is that the host header is required to be in the request signature and if\r\n\t\t// we remove it from the middlewares, then the request fails because the header is added\r\n\t\t// by the browser but is absent from the signature.\r\n\t\tdelete axiosRequest.headers['host'];\r\n\r\n\t\tif (request.body) {\r\n\t\t\taxiosRequest.data = request.body;\r\n\t\t} else {\r\n\t\t\t// Fix for https://github.com/aws-amplify/amplify-js/issues/5432\r\n\r\n\t\t\t// If the POST request body is empty but content-type header is set, axios is forcibly removing it\r\n\t\t\t// See https://github.com/axios/axios/issues/1535 and refusing to fix it https://github.com/axios/axios/issues/755\r\n\t\t\t// This change is a workaround to set the data as null (instead of undefined) to prevent axios from\r\n\t\t\t// removing the content-type header. Link for the source code\r\n\t\t\t// https://github.com/axios/axios/blob/dc4bc49673943e35280e5df831f5c3d0347a9393/lib/adapters/xhr.js#L121-L123\r\n\r\n\t\t\tif (axiosRequest.headers['Content-Type']) {\r\n\t\t\t\taxiosRequest.data = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (emitter) {\r\n\t\t\taxiosRequest.onUploadProgress = function(event) {\r\n\t\t\t\temitter.emit(SEND_PROGRESS_EVENT, event);\r\n\t\t\t\tlogger.debug(event);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// From gamma release, aws-sdk now expects all response type to be of blob or streams\r\n\t\taxiosRequest.responseType = 'blob';\r\n\r\n\t\tconst raceOfPromises = [\r\n\t\t\taxios\r\n\t\t\t\t.request(axiosRequest)\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tresponse: new HttpResponse({\r\n\t\t\t\t\t\t\theaders: response.headers,\r\n\t\t\t\t\t\t\tstatusCode: response.status,\r\n\t\t\t\t\t\t\tbody: response.data,\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\t// Error\r\n\t\t\t\t\tlogger.error(error);\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}),\r\n\t\t\trequestTimeout(requestTimeoutInMs),\r\n\t\t];\r\n\t\treturn Promise.race(raceOfPromises);\r\n\t}\r\n}\r\n\r\nfunction requestTimeout(timeoutInMs: number = 0): Promise<never> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tif (timeoutInMs) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tconst timeoutError = new Error(\r\n\t\t\t\t\t`Request did not complete within ${timeoutInMs} ms`\r\n\t\t\t\t);\r\n\t\t\t\ttimeoutError.name = 'TimeoutError';\r\n\t\t\t\treject(timeoutError);\r\n\t\t\t}, timeoutInMs);\r\n\t\t}\r\n\t});\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"ef964aba0619ab943fe4b6b63e79ab2e","cacheData":{"env":{}}}