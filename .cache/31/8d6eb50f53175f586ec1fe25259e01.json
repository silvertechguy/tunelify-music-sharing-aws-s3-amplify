{"id":"Kixe","dependencies":[{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\core\\lib-esm\\UniversalStorage\\index.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\core\\src\\UniversalStorage\\index.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\package.json","includedInParent":true,"mtime":1602864672900},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\.babelrc","includedInParent":true,"mtime":1602860561937},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\core\\package.json","includedInParent":true,"mtime":1602864668866},{"name":"universal-cookie","loc":{"line":1,"column":20},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\core\\lib-esm\\UniversalStorage\\index.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\universal-cookie\\es6\\index.js"},{"name":"../JS","loc":{"line":2,"column":30},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\core\\lib-esm\\UniversalStorage\\index.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\core\\lib-esm\\JS.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.UniversalStorage=void 0;var e=o(require(\"universal-cookie\")),t=require(\"../JS\");function o(e){return e&&e.__esModule?e:{default:e}}var r=(0,t.browserOrNode)().isBrowser,s=function(){function t(t){void 0===t&&(t={}),this.cookies=new e.default,this.store=r?window.localStorage:Object.create(null),this.cookies=t.req?new e.default(t.req.headers.cookie):new e.default,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(t.prototype,\"length\",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map(function(t,o){return e.key(o)}).forEach(function(t){return e.removeItem(t)})},t.prototype.getItem=function(e){return this.getLocalItem(e)},t.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},t.prototype.getUniversalItem=function(e){return this.cookies.get(e)},t.prototype.key=function(e){return Object.keys(this.store)[e]},t.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},t.prototype.removeLocalItem=function(e){delete this.store[e]},t.prototype.removeUniversalItem=function(e){this.cookies.remove(e)},t.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(\".\").pop()){case\"LastAuthUser\":case\"accessToken\":case\"idToken\":this.setUniversalItem(e,t)}},t.prototype.setLocalItem=function(e,t){this.store[e]=t},t.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:\"/\",sameSite:!0,secure:\"localhost\"!==window.location.hostname})},t}();exports.UniversalStorage=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":0}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":20}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":35}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":43}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":56}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":57}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":64}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":68}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":76}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":98}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":106}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":116}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":137}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":139}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":147}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":156}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":165}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":167}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":170}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":177}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":180}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":182}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":193}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":195}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":196}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":204}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":6,"column":8},"generated":{"line":1,"column":207}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":6,"column":8},"generated":{"line":1,"column":211}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":6,"column":8},"generated":{"line":1,"column":214}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":6,"column":8},"generated":{"line":1,"column":216}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":6,"column":8},"generated":{"line":1,"column":218}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":6,"column":8},"generated":{"line":1,"column":235}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":245}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":247}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":15,"column":1},"generated":{"line":1,"column":258}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":15,"column":1},"generated":{"line":1,"column":267}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":269}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":277}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":281}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":285}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":287}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":12,"column":1},"generated":{"line":1,"column":291}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":12,"column":1},"generated":{"line":1,"column":296}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":12,"column":11},"generated":{"line":1,"column":304}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":12,"column":15},"generated":{"line":1,"column":308}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":12,"column":11},"generated":{"line":1,"column":310}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":1},"generated":{"line":1,"column":318}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":1},"generated":{"line":1,"column":323}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":329}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":28},"generated":{"line":1,"column":331}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":35},"generated":{"line":1,"column":338}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":50},"generated":{"line":1,"column":351}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":57},"generated":{"line":1,"column":358}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":13,"column":64},"generated":{"line":1,"column":365}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":16,"column":7},"generated":{"line":1,"column":371}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":16,"column":7},"generated":{"line":1,"column":376}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":16,"column":17},"generated":{"line":1,"column":384}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":16,"column":25},"generated":{"line":1,"column":386}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":17,"column":5},"generated":{"line":1,"column":390}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":394}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":17,"column":5},"generated":{"line":1,"column":396}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":17,"column":17},"generated":{"line":1,"column":404}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":17,"column":25},"generated":{"line":1,"column":406}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":17,"column":29},"generated":{"line":1,"column":410}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":17,"column":37},"generated":{"line":1,"column":418}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":18,"column":5},"generated":{"line":1,"column":426}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":430}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":18,"column":5},"generated":{"line":1,"column":432}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":440}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":20,"column":9},"generated":{"line":1,"column":447}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":20,"column":16},"generated":{"line":1,"column":454}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":20,"column":21},"generated":{"line":1,"column":459}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":465}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":20,"column":33},"generated":{"line":1,"column":470}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":20,"column":41},"generated":{"line":1,"column":478}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":108,"column":0},"generated":{"line":1,"column":488}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":1},"generated":{"line":1,"column":495}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":1},"generated":{"line":1,"column":502}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":5},"generated":{"line":1,"column":517}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":5},"generated":{"line":1,"column":519}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":5},"generated":{"line":1,"column":529}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":538}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":1},"generated":{"line":1,"column":539}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":1},"generated":{"line":1,"column":543}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":554}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":561}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":568}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":24,"column":24},"generated":{"line":1,"column":576}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":24,"column":29},"generated":{"line":1,"column":581}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":24,"column":36},"generated":{"line":1,"column":588}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":596}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":608}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":610}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":624}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":27,"column":1},"generated":{"line":1,"column":628}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":27,"column":1},"generated":{"line":1,"column":630}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":27,"column":1},"generated":{"line":1,"column":640}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":27,"column":1},"generated":{"line":1,"column":646}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":27,"column":1},"generated":{"line":1,"column":657}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":27,"column":1},"generated":{"line":1,"column":661}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":27,"column":1},"generated":{"line":1,"column":663}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":668}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":28,"column":8},"generated":{"line":1,"column":674}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":679}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":683}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":28,"column":23},"generated":{"line":1,"column":689}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":28,"column":28},"generated":{"line":1,"column":694}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":703}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":707}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":716}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":718}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":1,"column":721}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":22},"generated":{"line":1,"column":728}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":730}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":734}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":739}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":747}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":756}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":759}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":766}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":30,"column":24},"generated":{"line":1,"column":768}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":779}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":785}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":787}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":797}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":33,"column":1},"generated":{"line":1,"column":805}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":814}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":817}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":824}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":829}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":34,"column":27},"generated":{"line":1,"column":842}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":846}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":848}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":37,"column":11},"generated":{"line":1,"column":858}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":37,"column":1},"generated":{"line":1,"column":871}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":37,"column":24},"generated":{"line":1,"column":880}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":883}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":890}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":897}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":26},"generated":{"line":1,"column":907}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":41},"generated":{"line":1,"column":922}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":46},"generated":{"line":1,"column":927}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":51},"generated":{"line":1,"column":932}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":38,"column":58},"generated":{"line":1,"column":938}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":39,"column":5},"generated":{"line":1,"column":941}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":946}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":952}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":40,"column":5},"generated":{"line":1,"column":955}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":961}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":963}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":1,"column":973}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":43,"column":1},"generated":{"line":1,"column":990}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":43,"column":28},"generated":{"line":1,"column":999}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":1002}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":1,"column":1009}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":1014}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":44,"column":22},"generated":{"line":1,"column":1022}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":1,"column":1026}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":47,"column":1},"generated":{"line":1,"column":1030}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":47,"column":1},"generated":{"line":1,"column":1032}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":47,"column":1},"generated":{"line":1,"column":1042}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":47,"column":1},"generated":{"line":1,"column":1046}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":47,"column":5},"generated":{"line":1,"column":1055}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":1058}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":1065}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":1072}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":1077}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":48,"column":26},"generated":{"line":1,"column":1082}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":48,"column":33},"generated":{"line":1,"column":1089}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":1093}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":1095}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":1105}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":51,"column":1},"generated":{"line":1,"column":1116}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":1125}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":52,"column":7},"generated":{"line":1,"column":1128}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":52,"column":7},"generated":{"line":1,"column":1133}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":1,"column":1149}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":53,"column":7},"generated":{"line":1,"column":1152}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":53,"column":7},"generated":{"line":1,"column":1157}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":53,"column":27},"generated":{"line":1,"column":1177}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1181}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1183}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1193}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":56,"column":1},"generated":{"line":1,"column":1209}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":56,"column":27},"generated":{"line":1,"column":1218}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":1228}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":1,"column":1233}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":1239}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":1243}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":1245}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":60,"column":11},"generated":{"line":1,"column":1255}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":60,"column":1},"generated":{"line":1,"column":1275}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":60,"column":31},"generated":{"line":1,"column":1284}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":61,"column":7},"generated":{"line":1,"column":1287}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":61,"column":7},"generated":{"line":1,"column":1292}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":61,"column":15},"generated":{"line":1,"column":1300}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":61,"column":22},"generated":{"line":1,"column":1307}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":64,"column":1},"generated":{"line":1,"column":1311}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":64,"column":1},"generated":{"line":1,"column":1313}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":64,"column":1},"generated":{"line":1,"column":1323}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":64,"column":1},"generated":{"line":1,"column":1331}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":1340}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":64,"column":27},"generated":{"line":1,"column":1342}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":72,"column":10},"generated":{"line":1,"column":1345}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":65,"column":7},"generated":{"line":1,"column":1352}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":65,"column":7},"generated":{"line":1,"column":1357}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":65,"column":20},"generated":{"line":1,"column":1370}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":65,"column":25},"generated":{"line":1,"column":1372}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1375}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":70,"column":24},"generated":{"line":1,"column":1377}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":70,"column":30},"generated":{"line":1,"column":1383}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":70,"column":35},"generated":{"line":1,"column":1388}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1395}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":1399}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1414}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1418}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":1432}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":1436}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":1446}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":1451}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":81,"column":26},"generated":{"line":1,"column":1468}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":81,"column":31},"generated":{"line":1,"column":1470}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":95,"column":11},"generated":{"line":1,"column":1475}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":95,"column":11},"generated":{"line":1,"column":1477}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":95,"column":11},"generated":{"line":1,"column":1487}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":95,"column":1},"generated":{"line":1,"column":1500}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":95,"column":24},"generated":{"line":1,"column":1509}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":95,"column":42},"generated":{"line":1,"column":1511}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":1514}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":1519}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":96,"column":13},"generated":{"line":1,"column":1525}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":96,"column":20},"generated":{"line":1,"column":1528}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":1531}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":1533}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":99,"column":11},"generated":{"line":1,"column":1543}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":99,"column":1},"generated":{"line":1,"column":1560}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":99,"column":28},"generated":{"line":1,"column":1569}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":99,"column":46},"generated":{"line":1,"column":1571}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":1574}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":100,"column":7},"generated":{"line":1,"column":1579}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":100,"column":15},"generated":{"line":1,"column":1587}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":100,"column":19},"generated":{"line":1,"column":1591}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":100,"column":24},"generated":{"line":1,"column":1593}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":100,"column":31},"generated":{"line":1,"column":1595}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":101,"column":3},"generated":{"line":1,"column":1596}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":101,"column":9},"generated":{"line":1,"column":1601}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":103,"column":3},"generated":{"line":1,"column":1605}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":1615}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":105,"column":3},"generated":{"line":1,"column":1617}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":105,"column":40},"generated":{"line":1,"column":1624}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":1638}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":105,"column":18},"generated":{"line":1,"column":1645}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":105,"column":27},"generated":{"line":1,"column":1654}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":108,"column":0},"generated":{"line":1,"column":1666}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":1668}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":1671}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":1679}},{"source":"../../src/UniversalStorage/index.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":1696}}],"sources":{"../../src/UniversalStorage/index.ts":"import Cookies from 'universal-cookie';\nimport { browserOrNode } from '../JS';\n\ntype Store = Record<string, string>;\n\nconst { isBrowser } = browserOrNode();\n\n// Avoid using @types/next because @aws-amplify/ui-angular's version of TypeScript is too old to support it\ntype Context = { req?: any };\n\nexport class UniversalStorage implements Storage {\n\tcookies = new Cookies();\n\tstore: Store = isBrowser ? window.localStorage : Object.create(null);\n\n\tconstructor(context: Context = {}) {\n\t\tthis.cookies = context.req\n\t\t\t? new Cookies(context.req.headers.cookie)\n\t\t\t: new Cookies();\n\n\t\tObject.assign(this.store, this.cookies.getAll());\n\t}\n\n\tget length() {\n\t\treturn Object.entries(this.store).length;\n\t}\n\n\tclear() {\n\t\tArray.from(new Array(this.length))\n\t\t\t.map((value, i) => this.key(i))\n\t\t\t.forEach(key => this.removeItem(key));\n\t}\n\n\tgetItem(key: keyof Store) {\n\t\treturn this.getLocalItem(key);\n\t}\n\n\tprotected getLocalItem(key: keyof Store) {\n\t\treturn Object.prototype.hasOwnProperty.call(this.store, key)\n\t\t\t? this.store[key]\n\t\t\t: null;\n\t}\n\n\tprotected getUniversalItem(key: keyof Store) {\n\t\treturn this.cookies.get(key);\n\t}\n\n\tkey(index: number) {\n\t\treturn Object.keys(this.store)[index];\n\t}\n\n\tremoveItem(key: string) {\n\t\tthis.removeLocalItem(key);\n\t\tthis.removeUniversalItem(key);\n\t}\n\n\tprotected removeLocalItem(key: keyof Store) {\n\t\tdelete this.store[key];\n\t}\n\n\tprotected removeUniversalItem(key: keyof Store) {\n\t\tthis.cookies.remove(key);\n\t}\n\n\tsetItem(key: keyof Store, value: string) {\n\t\tthis.setLocalItem(key, value);\n\n\t\t// keys take the shape:\n\t\t//  1. `${ProviderPrefix}.${userPoolClientId}.${username}.${tokenType}\n\t\t//  2. `${ProviderPrefix}.${userPoolClientId}.LastAuthUser\n\t\tconst tokenType = key.split('.').pop();\n\n\t\tswitch (tokenType) {\n\t\t\t// LastAuthUser is needed for computing other key names\n\t\t\tcase 'LastAuthUser':\n\n\t\t\t// accessToken is required for CognitoUserSession\n\t\t\tcase 'accessToken':\n\n\t\t\t// Required for CognitoUserSession\n\t\t\tcase 'idToken':\n\t\t\t\tthis.setUniversalItem(key, value);\n\n\t\t\t// userData is used when `Auth.currentAuthenticatedUser({ bypassCache: false })`.\n\t\t\t// Can be persisted to speed up calls to `Auth.currentAuthenticatedUser()`\n\t\t\t// case 'userData':\n\n\t\t\t// refreshToken isn't shared with the server so that the client handles refreshing\n\t\t\t// case 'refreshToken':\n\n\t\t\t// Ignoring clockDrift on the server for now, but needs testing\n\t\t\t// case 'clockDrift':\n\t\t}\n\t}\n\n\tprotected setLocalItem(key: keyof Store, value: string) {\n\t\tthis.store[key] = value;\n\t}\n\n\tprotected setUniversalItem(key: keyof Store, value: string) {\n\t\tthis.cookies.set(key, value, {\n\t\t\tpath: '/',\n\t\t\t// `httpOnly` cannot be set via JavaScript: https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies#JavaScript_access_using_Document.cookie\n\t\t\tsameSite: true,\n\t\t\t// Allow unsecure requests to http://localhost:3000/ when in development.\n\t\t\tsecure: window.location.hostname === 'localhost' ? false : true,\n\t\t});\n\t}\n}\n"},"lineCount":null}},"error":null,"hash":"3b519ec894000c652a82a48993f1cc60","cacheData":{"env":{}}}