{"id":"Gu0i","dependencies":[{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\package.json","includedInParent":true,"mtime":1602864672900},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\.babelrc","includedInParent":true,"mtime":1602860561937},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\middleware-bucket-endpoint\\package.json","includedInParent":true,"mtime":1602864669441},{"name":"tslib","loc":{"line":1,"column":23},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\middleware-bucket-endpoint\\dist\\es\\bucketHostname.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\tslib\\tslib.es6.js"},{"name":"./bucketHostnameUtils","loc":{"line":2,"column":247},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\middleware-bucket-endpoint\\dist\\es\\bucketHostname.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\middleware-bucket-endpoint\\dist\\es\\bucketHostnameUtils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bucketHostname=void 0;var t=require(\"tslib\"),e=require(\"./bucketHostnameUtils\"),n=function(t){var n=t.baseHostname;return e.S3_HOSTNAME_PATTERN.test(n)?(0,e.isBucketNameOptions)(t)?a(t):{bucketEndpoint:!0,hostname:i(t)}:{bucketEndpoint:!1,hostname:n}};exports.bucketHostname=n;var i=function(n){var i=(0,t.__read)((0,e.getSuffixForArnEndpoint)(n.baseHostname),2),a=i[0],o=i[1],s=n.pathStyleEndpoint,r=n.dualstackEndpoint,c=n.accelerateEndpoint,d=n.tlsCompatible,u=void 0===d||d,l=n.useArnRegion,p=n.bucketName,v=n.clientPartition,b=void 0===v?\"aws\":v,k=n.clientSigningRegion,m=void 0===k?a:k;if(s)throw new Error(\"Path-style S3 endpoint is not supported when bucket is an Access Point ARN\");if(c)throw new Error(\"Accelerate is not supported when bucket is an Access Point ARN\");if(!u)throw new Error(\"Access Point can only be used with https\");var E=p.service,g=p.partition,h=p.accountId,A=p.region,f=p.resource;(0,e.validateService)(E),(0,e.validateRegion)(A,{useArnRegion:l,clientRegion:a,clientSigningRegion:m}),(0,e.validatePartition)(g,{clientPartition:b}),(0,e.validateAccountId)(h);var N=(0,e.getAccessPointName)(f);return(0,e.validateDNSHostLabel)(N+\"-\"+h,{tlsCompatible:u}),N+\"-\"+h+\".s3-accesspoint\"+(r?\".dualstack\":\"\")+\".\"+(l?A:a)+\".\"+o},a=function(n){var i=n.accelerateEndpoint,a=void 0!==i&&i,o=n.baseHostname,s=n.bucketName,r=n.dualstackEndpoint,c=void 0!==r&&r,d=n.pathStyleEndpoint,u=void 0!==d&&d,l=n.tlsCompatible,p=void 0===l||l,v=(0,t.__read)((0,e.getSuffix)(o),2),b=v[0],k=v[1];return u||!(0,e.isDnsCompatibleBucketName)(s)||p&&e.DOT_PATTERN.test(s)?{bucketEndpoint:!1,hostname:c?\"s3.dualstack.\"+b+\".\"+k:o}:(a?o=\"s3-accelerate\"+(c?\".dualstack\":\"\")+\".\"+k:c&&(o=\"s3.dualstack.\"+b+\".\"+k),{bucketEndpoint:!0,hostname:s+\".\"+o})};"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":0}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":20}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":35}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":43}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":56}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":57}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":64}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":68}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":76}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":96}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":98}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":102}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":104}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":112}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":121}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":131}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":156}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":23,"column":30},"generated":{"line":1,"column":158}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":23,"column":31},"generated":{"line":1,"column":167}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":170}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":174}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":176}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":24,"column":34},"generated":{"line":1,"column":178}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":25,"column":6},"generated":{"line":1,"column":191}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":25,"column":7},"generated":{"line":1,"column":198}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":25,"column":27},"generated":{"line":1,"column":200}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":25,"column":27},"generated":{"line":1,"column":220}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":25,"column":32},"generated":{"line":1,"column":225}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":229}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":231}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":233}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":254}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":33,"column":11},"generated":{"line":1,"column":257}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":33,"column":37},"generated":{"line":1,"column":259}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":36,"column":11},"generated":{"line":1,"column":262}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":263}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":37,"column":22},"generated":{"line":1,"column":279}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":38,"column":6},"generated":{"line":1,"column":281}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":290}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":38,"column":43},"generated":{"line":1,"column":292}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":296}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":297}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":27,"column":22},"generated":{"line":1,"column":313}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":1,"column":315}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":324}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":328}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":336}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":1,"column":351}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":353}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":357}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":1,"column":359}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":43,"column":36},"generated":{"line":1,"column":368}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":371}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":375}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":378}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":1,"column":380}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":1,"column":382}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":1,"column":391}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":65},"generated":{"line":1,"column":393}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":65},"generated":{"line":1,"column":395}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":65},"generated":{"line":1,"column":420}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":73},"generated":{"line":1,"column":422}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":86},"generated":{"line":1,"column":436}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":439}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":441}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":443}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":446}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":37},"generated":{"line":1,"column":448}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":45,"column":37},"generated":{"line":1,"column":450}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":453}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":455}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":457}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":1,"column":475}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":477}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":479}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":497}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":499}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":501}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":520}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":522}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":524}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":538}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":50,"column":17},"generated":{"line":1,"column":545}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":50,"column":17},"generated":{"line":1,"column":549}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":50,"column":24},"generated":{"line":1,"column":552}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":554}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":556}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":558}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":571}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":573}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":575}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":586}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":588}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":590}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":606}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":1,"column":613}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":53,"column":19},"generated":{"line":1,"column":617}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":619}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":53,"column":27},"generated":{"line":1,"column":625}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":627}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":629}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":631}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":651}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":658}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":54,"column":23},"generated":{"line":1,"column":662}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":664}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":54,"column":38},"generated":{"line":1,"column":666}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":1,"column":668}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":1,"column":671}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":673}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":679}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":58,"column":14},"generated":{"line":1,"column":683}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":58,"column":20},"generated":{"line":1,"column":689}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":767}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":770}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":772}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":778}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":61,"column":14},"generated":{"line":1,"column":782}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":61,"column":20},"generated":{"line":1,"column":788}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":63,"column":6},"generated":{"line":1,"column":854}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":63,"column":7},"generated":{"line":1,"column":858}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":860}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":866}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":1,"column":870}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":64,"column":20},"generated":{"line":1,"column":876}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":1,"column":920}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":1,"column":924}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":62},"generated":{"line":1,"column":926}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":72},"generated":{"line":1,"column":928}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":19},"generated":{"line":1,"column":936}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":62},"generated":{"line":1,"column":938}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":72},"generated":{"line":1,"column":940}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":30},"generated":{"line":1,"column":950}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":62},"generated":{"line":1,"column":952}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":72},"generated":{"line":1,"column":954}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":41},"generated":{"line":1,"column":964}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":62},"generated":{"line":1,"column":966}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":72},"generated":{"line":1,"column":968}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":49},"generated":{"line":1,"column":975}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":62},"generated":{"line":1,"column":977}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":67,"column":72},"generated":{"line":1,"column":979}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":68,"column":18},"generated":{"line":1,"column":989}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":68,"column":18},"generated":{"line":1,"column":991}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":68,"column":18},"generated":{"line":1,"column":993}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":68,"column":18},"generated":{"line":1,"column":1010}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":1014}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":1016}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":1018}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":1034}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":25},"generated":{"line":1,"column":1036}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":27},"generated":{"line":1,"column":1037}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":39},"generated":{"line":1,"column":1050}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":41},"generated":{"line":1,"column":1052}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":53},"generated":{"line":1,"column":1065}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":55},"generated":{"line":1,"column":1067}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":69,"column":74},"generated":{"line":1,"column":1087}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1092}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1094}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1096}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":1115}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":70,"column":31},"generated":{"line":1,"column":1117}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":70,"column":33},"generated":{"line":1,"column":1118}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":70,"column":48},"generated":{"line":1,"column":1134}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":71,"column":20},"generated":{"line":1,"column":1139}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":71,"column":20},"generated":{"line":1,"column":1141}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":71,"column":20},"generated":{"line":1,"column":1143}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":71,"column":20},"generated":{"line":1,"column":1162}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":1165}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":1169}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":1,"column":1172}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":72,"column":45},"generated":{"line":1,"column":1174}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":72,"column":45},"generated":{"line":1,"column":1176}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":72,"column":45},"generated":{"line":1,"column":1196}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":1199}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":1206}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":1208}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":1210}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":1232}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":41},"generated":{"line":1,"column":1234}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":45},"generated":{"line":1,"column":1238}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":58},"generated":{"line":1,"column":1240}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":60},"generated":{"line":1,"column":1241}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":73,"column":73},"generated":{"line":1,"column":1255}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":1259}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":1261}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":31},"generated":{"line":1,"column":1265}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":40},"generated":{"line":1,"column":1267}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":58},"generated":{"line":1,"column":1286}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":78},"generated":{"line":1,"column":1288}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":93},"generated":{"line":1,"column":1301}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":75,"column":95},"generated":{"line":1,"column":1305}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":76,"column":4},"generated":{"line":1,"column":1310}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":76,"column":19},"generated":{"line":1,"column":1312}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":76,"column":28},"generated":{"line":1,"column":1314}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":76,"column":40},"generated":{"line":1,"column":1317}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":1321}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":1324}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":34},"generated":{"line":1,"column":1326}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":80,"column":35},"generated":{"line":1,"column":1335}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1338}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1342}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1344}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1346}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":2},"generated":{"line":1,"column":1365}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":20},"generated":{"line":1,"column":1372}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":20},"generated":{"line":1,"column":1376}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":81,"column":28},"generated":{"line":1,"column":1379}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":82,"column":2},"generated":{"line":1,"column":1381}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":82,"column":14},"generated":{"line":1,"column":1383}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":82,"column":14},"generated":{"line":1,"column":1385}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":1398}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":1,"column":1400}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":1,"column":1402}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1413}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1415}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1417}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":1,"column":1435}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":84,"column":19},"generated":{"line":1,"column":1442}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":84,"column":19},"generated":{"line":1,"column":1446}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":84,"column":27},"generated":{"line":1,"column":1449}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1451}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1453}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1455}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":1,"column":1473}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":85,"column":19},"generated":{"line":1,"column":1480}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":85,"column":19},"generated":{"line":1,"column":1484}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":85,"column":27},"generated":{"line":1,"column":1487}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1489}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1491}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1493}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":86,"column":2},"generated":{"line":1,"column":1507}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1514}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":1518}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":86,"column":22},"generated":{"line":1,"column":1521}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1523}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":8},"generated":{"line":1,"column":1526}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":41},"generated":{"line":1,"column":1528}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":41},"generated":{"line":1,"column":1530}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":41},"generated":{"line":1,"column":1539}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":51},"generated":{"line":1,"column":1541}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":51},"generated":{"line":1,"column":1543}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":51},"generated":{"line":1,"column":1554}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":64},"generated":{"line":1,"column":1557}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":9},"generated":{"line":1,"column":1560}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":1,"column":1562}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":1,"column":1564}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":23},"generated":{"line":1,"column":1567}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":37},"generated":{"line":1,"column":1569}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":88,"column":37},"generated":{"line":1,"column":1571}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":6},"generated":{"line":1,"column":1574}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":6},"generated":{"line":1,"column":1581}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":28},"generated":{"line":1,"column":1586}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":54},"generated":{"line":1,"column":1588}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":54},"generated":{"line":1,"column":1590}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":54},"generated":{"line":1,"column":1617}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":70},"generated":{"line":1,"column":1621}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":87},"generated":{"line":1,"column":1624}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":99},"generated":{"line":1,"column":1626}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":99},"generated":{"line":1,"column":1638}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":89,"column":104},"generated":{"line":1,"column":1643}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":90,"column":11},"generated":{"line":1,"column":1646}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":1647}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":91,"column":22},"generated":{"line":1,"column":1663}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":92,"column":6},"generated":{"line":1,"column":1665}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":92,"column":16},"generated":{"line":1,"column":1674}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":92,"column":36},"generated":{"line":1,"column":1676}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":92,"column":52},"generated":{"line":1,"column":1692}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":92,"column":64},"generated":{"line":1,"column":1694}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":92,"column":68},"generated":{"line":1,"column":1698}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":92,"column":87},"generated":{"line":1,"column":1700}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":96,"column":6},"generated":{"line":1,"column":1704}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":1,"column":1706}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":97,"column":19},"generated":{"line":1,"column":1708}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":97,"column":35},"generated":{"line":1,"column":1725}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":97,"column":55},"generated":{"line":1,"column":1727}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":97,"column":70},"generated":{"line":1,"column":1740}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":97,"column":72},"generated":{"line":1,"column":1744}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":97,"column":76},"generated":{"line":1,"column":1748}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":98,"column":13},"generated":{"line":1,"column":1750}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":1,"column":1754}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":99,"column":19},"generated":{"line":1,"column":1756}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":99,"column":35},"generated":{"line":1,"column":1772}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":99,"column":47},"generated":{"line":1,"column":1774}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":99,"column":51},"generated":{"line":1,"column":1778}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":102,"column":9},"generated":{"line":1,"column":1781}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":1782}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":103,"column":20},"generated":{"line":1,"column":1798}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":104,"column":4},"generated":{"line":1,"column":1800}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":104,"column":17},"generated":{"line":1,"column":1809}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":104,"column":27},"generated":{"line":1,"column":1811}},{"source":"../../src/bucketHostname.ts","name":null,"original":{"line":104,"column":31},"generated":{"line":1,"column":1815}}],"sources":{"../../src/bucketHostname.ts":"import {\n  ArnHostnameParams,\n  BucketHostnameParams,\n  DOT_PATTERN,\n  getAccessPointName,\n  getSuffix,\n  getSuffixForArnEndpoint,\n  isBucketNameOptions,\n  isDnsCompatibleBucketName,\n  S3_HOSTNAME_PATTERN,\n  validateAccountId,\n  validateDNSHostLabel,\n  validatePartition,\n  validateRegion,\n  validateService,\n} from \"./bucketHostnameUtils\";\n\nexport interface BucketHostname {\n  hostname: string;\n  bucketEndpoint: boolean;\n}\n\nexport const bucketHostname = (options: BucketHostnameParams | ArnHostnameParams): BucketHostname => {\n  const { baseHostname } = options;\n  if (!S3_HOSTNAME_PATTERN.test(baseHostname)) {\n    return {\n      bucketEndpoint: false,\n      hostname: baseHostname,\n    };\n  }\n  if (isBucketNameOptions(options)) {\n    // Construct endpoint when bucketName is a string referring to a bucket name\n    return getEndpointFromBucketName(options);\n  } else {\n    // Construct endpoint when bucketName is an ARN referring to an S3 resource like Access Point\n    return {\n      bucketEndpoint: true,\n      hostname: getEndpointFromAccessPoint(options),\n    };\n  }\n};\n\nconst getEndpointFromAccessPoint = (options: ArnHostnameParams): string => {\n  // Infer client region and hostname suffix from hostname from endpoints.json, like `s3.us-west-2.amazonaws.com`\n  const [clientRegion, hostnameSuffix] = getSuffixForArnEndpoint(options.baseHostname);\n  const {\n    pathStyleEndpoint,\n    dualstackEndpoint,\n    accelerateEndpoint,\n    tlsCompatible = true,\n    useArnRegion,\n    bucketName,\n    clientPartition = \"aws\",\n    clientSigningRegion = clientRegion,\n  } = options;\n\n  if (pathStyleEndpoint) {\n    throw new Error(\"Path-style S3 endpoint is not supported when bucket is an Access Point ARN\");\n  }\n  if (accelerateEndpoint) {\n    throw new Error(\"Accelerate is not supported when bucket is an Access Point ARN\");\n  }\n  if (!tlsCompatible) {\n    throw new Error(\"Access Point can only be used with https\");\n  }\n  // Validate and parse the ARN supplied as a bucket name\n  const { service, partition, accountId, region, resource } = bucketName;\n  validateService(service);\n  validateRegion(region, { useArnRegion, clientRegion, clientSigningRegion });\n  validatePartition(partition, { clientPartition });\n  validateAccountId(accountId);\n  const accessPointName = getAccessPointName(resource);\n  validateDNSHostLabel(`${accessPointName}-${accountId}`, { tlsCompatible });\n\n  return `${accessPointName}-${accountId}.s3-accesspoint${dualstackEndpoint ? \".dualstack\" : \"\"}.${\n    useArnRegion ? region : clientRegion\n  }.${hostnameSuffix}`;\n};\n\nconst getEndpointFromBucketName = ({\n  accelerateEndpoint = false,\n  baseHostname,\n  bucketName,\n  dualstackEndpoint = false,\n  pathStyleEndpoint = false,\n  tlsCompatible = true,\n}: BucketHostnameParams): BucketHostname => {\n  const [clientRegion, hostnameSuffix] = getSuffix(baseHostname);\n  if (pathStyleEndpoint || !isDnsCompatibleBucketName(bucketName) || (tlsCompatible && DOT_PATTERN.test(bucketName))) {\n    return {\n      bucketEndpoint: false,\n      hostname: dualstackEndpoint ? `s3.dualstack.${clientRegion}.${hostnameSuffix}` : baseHostname,\n    };\n  }\n\n  if (accelerateEndpoint) {\n    baseHostname = `s3-accelerate${dualstackEndpoint ? \".dualstack\" : \"\"}.${hostnameSuffix}`;\n  } else if (dualstackEndpoint) {\n    baseHostname = `s3.dualstack.${clientRegion}.${hostnameSuffix}`;\n  }\n\n  return {\n    bucketEndpoint: true,\n    hostname: `${bucketName}.${baseHostname}`,\n  };\n};\n"},"lineCount":null}},"error":null,"hash":"17ee93ff612981b4c2aeb5f4e4312b96","cacheData":{"env":{}}}