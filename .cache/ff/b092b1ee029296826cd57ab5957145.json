{"id":"eViY","dependencies":[{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\package.json","includedInParent":true,"mtime":1602864672900},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\.babelrc","includedInParent":true,"mtime":1602860561937},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\eventstream-marshaller\\package.json","includedInParent":true,"mtime":1602864669401},{"name":"@aws-crypto/crc32","loc":{"line":1,"column":22},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\eventstream-marshaller\\dist\\es\\EventStreamMarshaller.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-crypto\\crc32\\build\\index.js"},{"name":"./HeaderMarshaller","loc":{"line":2,"column":33},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\eventstream-marshaller\\dist\\es\\EventStreamMarshaller.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\eventstream-marshaller\\dist\\es\\HeaderMarshaller.js"},{"name":"./splitMessage","loc":{"line":3,"column":29},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\eventstream-marshaller\\dist\\es\\EventStreamMarshaller.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\eventstream-marshaller\\dist\\es\\splitMessage.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.EventStreamMarshaller=void 0;var e=require(\"@aws-crypto/crc32\"),r=require(\"./HeaderMarshaller\"),t=require(\"./splitMessage\"),a=function(){function a(e,t){this.headerMarshaller=new r.HeaderMarshaller(e,t)}return a.prototype.marshall=function(r){var t=r.headers,a=r.body,s=this.headerMarshaller.format(t),n=s.byteLength+a.byteLength+16,h=new Uint8Array(n),i=new DataView(h.buffer,h.byteOffset,h.byteLength),l=new e.Crc32;return i.setUint32(0,n,!1),i.setUint32(4,s.byteLength,!1),i.setUint32(8,l.update(h.subarray(0,8)).digest(),!1),h.set(s,12),h.set(a,s.byteLength+12),i.setUint32(n-4,l.update(h.subarray(8,n-4)).digest(),!1),h},a.prototype.unmarshall=function(e){var r=(0,t.splitMessage)(e),a=r.headers,s=r.body;return{headers:this.headerMarshaller.parse(a),body:s}},a.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},a}();exports.EventStreamMarshaller=a;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":0}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":20}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":35}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":43}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":56}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":57}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":64}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":68}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":76}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":103}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":111}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":119}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":140}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":142}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":150}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":172}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":174}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":182}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":200}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":202}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":213}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":15,"column":2},"generated":{"line":1,"column":222}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":15,"column":14},"generated":{"line":1,"column":224}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":15,"column":31},"generated":{"line":1,"column":226}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":229}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":234}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":16,"column":28},"generated":{"line":1,"column":251}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":16,"column":32},"generated":{"line":1,"column":255}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":16,"column":28},"generated":{"line":1,"column":257}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":16,"column":49},"generated":{"line":1,"column":274}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":16,"column":57},"generated":{"line":1,"column":276}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":279}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":286}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":288}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":298}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":307}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":11},"generated":{"line":1,"column":316}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":22},"generated":{"line":1,"column":319}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":22},"generated":{"line":1,"column":323}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":32},"generated":{"line":1,"column":325}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":32},"generated":{"line":1,"column":327}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":34},"generated":{"line":1,"column":335}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":38},"generated":{"line":1,"column":337}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":23,"column":38},"generated":{"line":1,"column":339}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":10},"generated":{"line":1,"column":344}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":20},"generated":{"line":1,"column":346}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":25},"generated":{"line":1,"column":351}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":42},"generated":{"line":1,"column":368}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":24,"column":49},"generated":{"line":1,"column":375}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":378}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":380}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":25,"column":27},"generated":{"line":1,"column":382}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":25,"column":40},"generated":{"line":1,"column":393}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":25,"column":45},"generated":{"line":1,"column":395}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":25,"column":58},"generated":{"line":1,"column":406}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":10},"generated":{"line":1,"column":409}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":411}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":20},"generated":{"line":1,"column":415}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":1,"column":426}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":1,"column":429}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":431}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":21},"generated":{"line":1,"column":435}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":444}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":1,"column":446}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":42},"generated":{"line":1,"column":453}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":46},"generated":{"line":1,"column":455}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":58},"generated":{"line":1,"column":466}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":28,"column":62},"generated":{"line":1,"column":468}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":480}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":482}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":486}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":488}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":11},"generated":{"line":1,"column":494}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":501}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":503}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":513}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":515}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":32,"column":30},"generated":{"line":1,"column":518}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":521}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":523}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":533}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":535}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":30},"generated":{"line":1,"column":537}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":549}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":552}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":554}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":564}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":566}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":568}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":38},"generated":{"line":1,"column":575}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":42},"generated":{"line":1,"column":577}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":51},"generated":{"line":1,"column":586}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":54},"generated":{"line":1,"column":588}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":58},"generated":{"line":1,"column":592}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":34,"column":68},"generated":{"line":1,"column":602}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":605}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":607}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":611}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":613}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":36,"column":4},"generated":{"line":1,"column":617}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":619}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":623}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":625}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":627}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":36,"column":39},"generated":{"line":1,"column":638}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":642}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":644}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":19},"generated":{"line":1,"column":654}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":28},"generated":{"line":1,"column":656}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":31},"generated":{"line":1,"column":658}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":40},"generated":{"line":1,"column":660}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":47},"generated":{"line":1,"column":667}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":51},"generated":{"line":1,"column":669}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":60},"generated":{"line":1,"column":678}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":63},"generated":{"line":1,"column":680}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":72},"generated":{"line":1,"column":682}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":76},"generated":{"line":1,"column":686}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":39,"column":86},"generated":{"line":1,"column":696}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":41,"column":11},"generated":{"line":1,"column":699}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":702}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":704}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":714}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":725}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":48,"column":13},"generated":{"line":1,"column":734}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":737}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":741}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":1,"column":744}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":43},"generated":{"line":1,"column":746}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":43},"generated":{"line":1,"column":748}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":43},"generated":{"line":1,"column":762}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":765}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":767}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":769}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":1,"column":777}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":25},"generated":{"line":1,"column":779}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":49,"column":25},"generated":{"line":1,"column":781}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":786}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":792}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":13},"generated":{"line":1,"column":793}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":22},"generated":{"line":1,"column":801}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":806}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":44},"generated":{"line":1,"column":823}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":50},"generated":{"line":1,"column":829}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":60},"generated":{"line":1,"column":832}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":51,"column":64},"generated":{"line":1,"column":837}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":841}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":843}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":853}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":867}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":58,"column":16},"generated":{"line":1,"column":876}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":879}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":59,"column":11},"generated":{"line":1,"column":886}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":59,"column":16},"generated":{"line":1,"column":891}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":1,"column":908}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":59,"column":40},"generated":{"line":1,"column":915}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":919}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":921}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":924}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":932}},{"source":"../../src/EventStreamMarshaller.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":954}}],"sources":{"../../src/EventStreamMarshaller.ts":"import { Crc32 } from \"@aws-crypto/crc32\";\nimport { Message, MessageHeaders } from \"@aws-sdk/types\";\nimport { Decoder, Encoder } from \"@aws-sdk/types\";\n\nimport { HeaderMarshaller } from \"./HeaderMarshaller\";\nimport { splitMessage } from \"./splitMessage\";\n\n/**\n * A marshaller that can convert binary-packed event stream messages into\n * JavaScript objects and back again into their binary format.\n */\nexport class EventStreamMarshaller {\n  private readonly headerMarshaller: HeaderMarshaller;\n\n  constructor(toUtf8: Encoder, fromUtf8: Decoder) {\n    this.headerMarshaller = new HeaderMarshaller(toUtf8, fromUtf8);\n  }\n\n  /**\n   * Convert a structured JavaScript object with tagged headers into a binary\n   * event stream message.\n   */\n  marshall({ headers: rawHeaders, body }: Message): Uint8Array {\n    const headers = this.headerMarshaller.format(rawHeaders);\n    const length = headers.byteLength + body.byteLength + 16;\n\n    const out = new Uint8Array(length);\n    const view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    const checksum = new Crc32();\n\n    // Format message\n    view.setUint32(0, length, false);\n    view.setUint32(4, headers.byteLength, false);\n    view.setUint32(8, checksum.update(out.subarray(0, 8)).digest(), false);\n    out.set(headers, 12);\n    out.set(body, headers.byteLength + 12);\n\n    // Write trailing message checksum\n    view.setUint32(length - 4, checksum.update(out.subarray(8, length - 4)).digest(), false);\n\n    return out;\n  }\n\n  /**\n   * Convert a binary event stream message into a JavaScript object with an\n   * opaque, binary body and tagged, parsed headers.\n   */\n  unmarshall(message: ArrayBufferView): Message {\n    const { headers, body } = splitMessage(message);\n\n    return { headers: this.headerMarshaller.parse(headers), body };\n  }\n\n  /**\n   * Convert a structured JavaScript object with tagged headers into a binary\n   * event stream message header.\n   */\n  formatHeaders(rawHeaders: MessageHeaders): Uint8Array {\n    return this.headerMarshaller.format(rawHeaders);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"946300543a5f98cf74281c6296487723","cacheData":{"env":{}}}