{"id":"zlni","dependencies":[{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\package.json","includedInParent":true,"mtime":1602864672900},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\.babelrc","includedInParent":true,"mtime":1602860561937},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\fetch-http-handler\\package.json","includedInParent":true,"mtime":1602864669342},{"name":"tslib","loc":{"line":1,"column":25},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\fetch-http-handler\\dist\\es\\fetch-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\tslib\\tslib.es6.js"},{"name":"@aws-sdk/protocol-http","loc":{"line":2,"column":29},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\fetch-http-handler\\dist\\es\\fetch-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\protocol-http\\dist\\es\\index.js"},{"name":"@aws-sdk/querystring-builder","loc":{"line":3,"column":33},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\fetch-http-handler\\dist\\es\\fetch-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\querystring-builder\\dist\\es\\index.js"},{"name":"./request-timeout","loc":{"line":4,"column":31},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\fetch-http-handler\\dist\\es\\fetch-http-handler.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\fetch-http-handler\\dist\\es\\request-timeout.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.FetchHttpHandler=void 0;var e=require(\"tslib\"),r=require(\"@aws-sdk/protocol-http\"),t=require(\"@aws-sdk/querystring-builder\"),o=require(\"./request-timeout\"),n=function(){function n(e){void 0===e&&(e={}),this.httpOptions=e}return n.prototype.destroy=function(){},n.prototype.handle=function(n,s){var u=null==s?void 0:s.abortSignal,a=this.httpOptions.requestTimeout;if(null==u?void 0:u.aborted){var i=new Error(\"Request aborted\");return i.name=\"AbortError\",Promise.reject(i)}var d=n.path;if(n.query){var l=(0,t.buildQueryString)(n.query);l&&(d+=\"?\"+l)}var p=n.port,h=n.protocol+\"//\"+n.hostname+(p?\":\"+p:\"\")+d,b={body:n.body,headers:new Headers(n.headers),method:n.method};\"undefined\"!=typeof AbortController&&(b.signal=u);var c=new Request(h,b),v=[fetch(c).then(function(t){var o,n,s=t.headers,u={};try{for(var a=(0,e.__values)(s.entries()),i=a.next();!i.done;i=a.next()){var d=i.value;u[d[0]]=d[1]}}catch(l){o={error:l}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return void 0!==t.body?{response:new r.HttpResponse({headers:u,statusCode:t.status,body:t.body})}:t.blob().then(function(e){return{response:new r.HttpResponse({headers:u,statusCode:t.status,body:e})}})}),(0,o.requestTimeout)(a)];return u&&v.push(new Promise(function(e,r){u.onabort=function(){var e=new Error(\"Request aborted\");e.name=\"AbortError\",r(e)}})),Promise.race(v)},n}();exports.FetchHttpHandler=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":0}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":20}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":35}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":43}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":56}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":57}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":64}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":68}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":76}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":98}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":100}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":104}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":106}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":114}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":123}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":125}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":133}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":159}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":161}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":169}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":201}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":203}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":211}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":232}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":234}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":245}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":254}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":256}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":264}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":268}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":272}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":274}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":278}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":283}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":295}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":297}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":304}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":306}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":316}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":324}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":337}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":339}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":349}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":356}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":365}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":28,"column":31},"generated":{"line":1,"column":367}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":370}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":374}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":376}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":382}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":389}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":391}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":393}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":405}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":30,"column":31},"generated":{"line":1,"column":407}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":412}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":30,"column":48},"generated":{"line":1,"column":424}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":439}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":442}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":448}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":455}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":457}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":1,"column":459}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":33,"column":30},"generated":{"line":1,"column":467}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":468}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":472}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":34,"column":25},"generated":{"line":1,"column":474}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":478}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":484}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":503}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":510}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":512}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":1,"column":517}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":530}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":538}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":545}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":548}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":552}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":39,"column":15},"generated":{"line":1,"column":554}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":556}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":561}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":564}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":566}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":1,"column":572}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":573}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":41,"column":12},"generated":{"line":1,"column":577}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":41,"column":26},"generated":{"line":1,"column":580}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":41,"column":43},"generated":{"line":1,"column":582}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":41,"column":43},"generated":{"line":1,"column":584}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":41,"column":43},"generated":{"line":1,"column":602}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":41,"column":51},"generated":{"line":1,"column":604}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":611}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":615}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":43,"column":16},"generated":{"line":1,"column":618}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":1,"column":622}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":625}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":47,"column":10},"generated":{"line":1,"column":629}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":1,"column":631}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":47,"column":25},"generated":{"line":1,"column":633}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":638}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":640}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":27},"generated":{"line":1,"column":642}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":35},"generated":{"line":1,"column":651}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":40},"generated":{"line":1,"column":656}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":48},"generated":{"line":1,"column":658}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":59},"generated":{"line":1,"column":668}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":66},"generated":{"line":1,"column":670}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":70},"generated":{"line":1,"column":674}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":79},"generated":{"line":1,"column":676}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":48,"column":84},"generated":{"line":1,"column":680}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":682}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":49,"column":40},"generated":{"line":1,"column":684}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":685}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":690}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":692}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":51,"column":6},"generated":{"line":1,"column":697}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":51,"column":15},"generated":{"line":1,"column":705}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":1,"column":709}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":717}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":51,"column":35},"generated":{"line":1,"column":719}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":52,"column":6},"generated":{"line":1,"column":728}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":1,"column":735}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":52,"column":22},"generated":{"line":1,"column":737}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":56,"column":35},"generated":{"line":1,"column":745}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":765}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":57,"column":7},"generated":{"line":1,"column":783}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":57,"column":29},"generated":{"line":1,"column":785}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":57,"column":42},"generated":{"line":1,"column":792}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":795}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":799}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":801}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":60,"column":29},"generated":{"line":1,"column":805}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":60,"column":37},"generated":{"line":1,"column":813}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":60,"column":42},"generated":{"line":1,"column":815}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":818}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":1,"column":820}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":821}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":1,"column":827}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":62,"column":26},"generated":{"line":1,"column":830}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":62,"column":31},"generated":{"line":1,"column":835}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":62,"column":32},"generated":{"line":1,"column":844}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":847}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":851}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":853}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":63,"column":14},"generated":{"line":1,"column":855}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":63,"column":34},"generated":{"line":1,"column":857}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":63,"column":43},"generated":{"line":1,"column":859}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":1,"column":867}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":64,"column":46},"generated":{"line":1,"column":869}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":872}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":876}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":880}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":884}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":27},"generated":{"line":1,"column":887}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":44},"generated":{"line":1,"column":889}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":44},"generated":{"line":1,"column":891}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":44},"generated":{"line":1,"column":901}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":57},"generated":{"line":1,"column":903}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":914}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":916}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":918}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":926}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":928}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":933}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":935}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":66},"generated":{"line":1,"column":937}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":68},"generated":{"line":1,"column":944}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":19},"generated":{"line":1,"column":945}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":19},"generated":{"line":1,"column":949}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":23},"generated":{"line":1,"column":951}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":66,"column":23},"generated":{"line":1,"column":953}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":1,"column":959}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":67,"column":29},"generated":{"line":1,"column":961}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":67,"column":34},"generated":{"line":1,"column":963}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":67,"column":40},"generated":{"line":1,"column":967}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":67,"column":45},"generated":{"line":1,"column":969}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":973}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":979}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":982}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":984}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":985}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":991}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":994}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1002}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1006}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1010}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1012}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1019}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1021}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1023}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1032}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1034}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1039}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1042}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1050}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1053}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1055}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1061}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1063}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":1070}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":70,"column":52},"generated":{"line":1,"column":1082}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":70,"column":34},"generated":{"line":1,"column":1086}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":70,"column":43},"generated":{"line":1,"column":1088}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":83,"column":15},"generated":{"line":1,"column":1093}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":84,"column":10},"generated":{"line":1,"column":1094}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":84,"column":20},"generated":{"line":1,"column":1103}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":84,"column":24},"generated":{"line":1,"column":1107}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":84,"column":20},"generated":{"line":1,"column":1109}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":84,"column":37},"generated":{"line":1,"column":1122}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":85,"column":12},"generated":{"line":1,"column":1123}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":85,"column":21},"generated":{"line":1,"column":1131}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":1,"column":1133}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":86,"column":24},"generated":{"line":1,"column":1144}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":86,"column":33},"generated":{"line":1,"column":1146}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":87,"column":12},"generated":{"line":1,"column":1153}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":87,"column":18},"generated":{"line":1,"column":1158}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":87,"column":27},"generated":{"line":1,"column":1160}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":74,"column":17},"generated":{"line":1,"column":1168}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":74,"column":26},"generated":{"line":1,"column":1170}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":74,"column":33},"generated":{"line":1,"column":1177}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":74,"column":38},"generated":{"line":1,"column":1182}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":74,"column":39},"generated":{"line":1,"column":1191}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":74,"column":49},"generated":{"line":1,"column":1194}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":74,"column":49},"generated":{"line":1,"column":1200}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":1201}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":75,"column":22},"generated":{"line":1,"column":1210}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":75,"column":26},"generated":{"line":1,"column":1214}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":75,"column":22},"generated":{"line":1,"column":1216}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":75,"column":39},"generated":{"line":1,"column":1229}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":76,"column":14},"generated":{"line":1,"column":1230}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":76,"column":23},"generated":{"line":1,"column":1238}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":77,"column":14},"generated":{"line":1,"column":1240}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":77,"column":26},"generated":{"line":1,"column":1251}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":77,"column":35},"generated":{"line":1,"column":1253}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":1,"column":1260}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":78,"column":18},"generated":{"line":1,"column":1265}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":1275}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":91,"column":21},"generated":{"line":1,"column":1277}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":91,"column":21},"generated":{"line":1,"column":1279}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":91,"column":21},"generated":{"line":1,"column":1295}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":104,"column":11},"generated":{"line":1,"column":1299}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":1306}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":94,"column":6},"generated":{"line":1,"column":1309}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":94,"column":21},"generated":{"line":1,"column":1311}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":95,"column":8},"generated":{"line":1,"column":1316}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":95,"column":12},"generated":{"line":1,"column":1320}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":95,"column":27},"generated":{"line":1,"column":1328}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":95,"column":28},"generated":{"line":1,"column":1337}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":95,"column":37},"generated":{"line":1,"column":1339}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":96,"column":10},"generated":{"line":1,"column":1342}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":96,"column":22},"generated":{"line":1,"column":1344}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":96,"column":32},"generated":{"line":1,"column":1352}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":97,"column":18},"generated":{"line":1,"column":1363}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":97,"column":18},"generated":{"line":1,"column":1367}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":97,"column":31},"generated":{"line":1,"column":1369}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":97,"column":35},"generated":{"line":1,"column":1373}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":97,"column":41},"generated":{"line":1,"column":1379}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":98,"column":12},"generated":{"line":1,"column":1398}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":98,"column":23},"generated":{"line":1,"column":1400}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":98,"column":30},"generated":{"line":1,"column":1405}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":99,"column":12},"generated":{"line":1,"column":1418}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":99,"column":19},"generated":{"line":1,"column":1420}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":104,"column":11},"generated":{"line":1,"column":1427}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1435}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":104,"column":24},"generated":{"line":1,"column":1440}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":1444}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1446}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1449}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1457}},{"source":"../../src/fetch-http-handler.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1474}}],"sources":{"../../src/fetch-http-handler.ts":"import { HttpHandler, HttpRequest, HttpResponse } from \"@aws-sdk/protocol-http\";\nimport { buildQueryString } from \"@aws-sdk/querystring-builder\";\nimport { HeaderBag, HttpHandlerOptions } from \"@aws-sdk/types\";\n\nimport { requestTimeout } from \"./request-timeout\";\n\ndeclare let AbortController: any;\n\n/**\n * Represents the http options that can be passed to a browser http client.\n */\nexport interface BrowserHttpOptions {\n  /**\n   * The number of milliseconds a request can take before being automatically\n   * terminated.\n   */\n  requestTimeout?: number;\n}\n\nexport class FetchHttpHandler implements HttpHandler {\n  constructor(private readonly httpOptions: BrowserHttpOptions = {}) {}\n\n  destroy(): void {\n    // Do nothing. TLS and HTTP/2 connection pooling is handled by the\n    // browser.\n  }\n\n  handle(request: HttpRequest, options: HttpHandlerOptions): Promise<{ response: HttpResponse }> {\n    const abortSignal = options?.abortSignal;\n    const requestTimeoutInMs = this.httpOptions.requestTimeout;\n\n    // if the request was already aborted, prevent doing extra work\n    if (abortSignal?.aborted) {\n      const abortError = new Error(\"Request aborted\");\n      abortError.name = \"AbortError\";\n      return Promise.reject(abortError);\n    }\n\n    let path = request.path;\n    if (request.query) {\n      const queryString = buildQueryString(request.query);\n      if (queryString) {\n        path += `?${queryString}`;\n      }\n    }\n\n    const port = request.port;\n    const url = `${request.protocol}//${request.hostname}${port ? `:${port}` : \"\"}${path}`;\n    const requestOptions: RequestInit = {\n      body: request.body,\n      headers: new Headers(request.headers),\n      method: request.method,\n    };\n\n    // some browsers support abort signal\n    if (typeof AbortController !== \"undefined\") {\n      (requestOptions as any)[\"signal\"] = abortSignal;\n    }\n\n    const fetchRequest = new Request(url, requestOptions);\n    const raceOfPromises = [\n      fetch(fetchRequest).then((response) => {\n        const fetchHeaders: any = response.headers;\n        const transformedHeaders: HeaderBag = {};\n\n        for (const pair of <Array<string[]>>fetchHeaders.entries()) {\n          transformedHeaders[pair[0]] = pair[1];\n        }\n\n        const hasReadableStream = response.body !== undefined;\n\n        // Return the response with buffered body\n        if (!hasReadableStream) {\n          return response.blob().then((body) => ({\n            response: new HttpResponse({\n              headers: transformedHeaders,\n              statusCode: response.status,\n              body,\n            }),\n          }));\n        }\n        // Return the response with streaming body\n        return {\n          response: new HttpResponse({\n            headers: transformedHeaders,\n            statusCode: response.status,\n            body: response.body,\n          }),\n        };\n      }),\n      requestTimeout(requestTimeoutInMs),\n    ];\n    if (abortSignal) {\n      raceOfPromises.push(\n        new Promise<never>((resolve, reject) => {\n          abortSignal.onabort = () => {\n            const abortError = new Error(\"Request aborted\");\n            abortError.name = \"AbortError\";\n            reject(abortError);\n          };\n        })\n      );\n    }\n    return Promise.race(raceOfPromises);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"d85a57ca936755d0ccf5bfddd74ac1c4","cacheData":{"env":{}}}