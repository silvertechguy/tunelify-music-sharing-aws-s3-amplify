{"id":"tA3Y","dependencies":[{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\package.json","includedInParent":true,"mtime":1602864672900},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\.babelrc","includedInParent":true,"mtime":1602860561937},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\middleware-content-length\\package.json","includedInParent":true,"mtime":1602864669447},{"name":"tslib","loc":{"line":1,"column":49},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\middleware-content-length\\dist\\es\\index.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\tslib\\tslib.es6.js"},{"name":"@aws-sdk/protocol-http","loc":{"line":2,"column":28},"parent":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\middleware-content-length\\dist\\es\\index.js","resolved":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-sdk\\protocol-http\\dist\\es\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.contentLengthMiddleware=r,exports.getContentLengthPlugin=exports.contentLengthMiddlewareOptions=void 0;var e=require(\"tslib\"),t=require(\"@aws-sdk/protocol-http\"),n=\"content-length\";function r(r){var o=this;return function(i){return function(s){return(0,e.__awaiter)(o,void 0,void 0,function(){var o,a,u,d,c;return(0,e.__generator)(this,function(g){return o=s.request,t.HttpRequest.isInstance(o)&&(a=o.body,u=o.headers,a&&-1===Object.keys(u).map(function(e){return e.toLowerCase()}).indexOf(n)&&void 0!==(d=r(a))&&(o.headers=(0,e.__assign)((0,e.__assign)({},o.headers),((c={})[n]=String(d),c)))),[2,i((0,e.__assign)((0,e.__assign)({},s),{request:o}))]})})}}}var o={step:\"build\",tags:[\"SET_CONTENT_LENGTH\",\"CONTENT_LENGTH\"],name:\"contentLengthMiddleware\"};exports.contentLengthMiddlewareOptions=o;var i=function(e){return{applyToStack:function(t){t.add(r(e.bodyLengthChecker),o)}}};exports.getContentLengthPlugin=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":0}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":13}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":20}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":35}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":43}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":56}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":57}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":64}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":68}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":76}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":100}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":102}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":110}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":133}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":141}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":177}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":179}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":183}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":185}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":193}},{"source":"../../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":202}},{"source":"../../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":204}},{"source":"../../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":212}},{"source":"../../src/index.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":238}},{"source":"../../src/index.ts","name":null,"original":{"line":13,"column":30},"generated":{"line":1,"column":240}},{"source":"../../src/index.ts","name":null,"original":{"line":15,"column":6},"generated":{"line":1,"column":257}},{"source":"../../src/index.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":1,"column":266}},{"source":"../../src/index.ts","name":null,"original":{"line":15,"column":40},"generated":{"line":1,"column":268}},{"source":"../../src/index.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":271}},{"source":"../../src/index.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":275}},{"source":"../../src/index.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":277}},{"source":"../../src/index.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":282}},{"source":"../../src/index.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":289}},{"source":"../../src/index.ts","name":null,"original":{"line":16,"column":41},"generated":{"line":1,"column":298}},{"source":"../../src/index.ts","name":null,"original":{"line":16,"column":104},"generated":{"line":1,"column":301}},{"source":"../../src/index.ts","name":null,"original":{"line":16,"column":104},"generated":{"line":1,"column":308}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":317}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":320}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":327}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":329}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":331}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":342}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":349}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":356}},{"source":"../../src/index.ts","name":null,"original":{"line":17,"column":36},"generated":{"line":1,"column":358}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":369}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":373}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":375}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":377}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":379}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":381}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":383}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":390}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":392}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":394}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":407}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":412}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":421}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":424}},{"source":"../../src/index.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":431}},{"source":"../../src/index.ts","name":null,"original":{"line":19,"column":20},"generated":{"line":1,"column":433}},{"source":"../../src/index.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":1,"column":435}},{"source":"../../src/index.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":443}},{"source":"../../src/index.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":1,"column":445}},{"source":"../../src/index.ts","name":null,"original":{"line":20,"column":20},"generated":{"line":1,"column":457}},{"source":"../../src/index.ts","name":null,"original":{"line":20,"column":31},"generated":{"line":1,"column":468}},{"source":"../../src/index.ts","name":null,"original":{"line":21,"column":14},"generated":{"line":1,"column":473}},{"source":"../../src/index.ts","name":null,"original":{"line":21,"column":32},"generated":{"line":1,"column":475}},{"source":"../../src/index.ts","name":null,"original":{"line":21,"column":39},"generated":{"line":1,"column":477}},{"source":"../../src/index.ts","name":null,"original":{"line":21,"column":20},"generated":{"line":1,"column":482}},{"source":"../../src/index.ts","name":null,"original":{"line":21,"column":32},"generated":{"line":1,"column":484}},{"source":"../../src/index.ts","name":null,"original":{"line":21,"column":39},"generated":{"line":1,"column":486}},{"source":"../../src/index.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":494}},{"source":"../../src/index.ts","name":null,"original":{"line":26,"column":47},"generated":{"line":1,"column":498}},{"source":"../../src/index.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":502}},{"source":"../../src/index.ts","name":null,"original":{"line":24,"column":15},"generated":{"line":1,"column":509}},{"source":"../../src/index.ts","name":null,"original":{"line":24,"column":20},"generated":{"line":1,"column":514}},{"source":"../../src/index.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":517}},{"source":"../../src/index.ts","name":null,"original":{"line":25,"column":15},"generated":{"line":1,"column":521}},{"source":"../../src/index.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":1,"column":530}},{"source":"../../src/index.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":533}},{"source":"../../src/index.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":540}},{"source":"../../src/index.ts","name":null,"original":{"line":25,"column":28},"generated":{"line":1,"column":542}},{"source":"../../src/index.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":558}},{"source":"../../src/index.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":566}},{"source":"../../src/index.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":575}},{"source":"../../src/index.ts","name":null,"original":{"line":28,"column":14},"generated":{"line":1,"column":580}},{"source":"../../src/index.ts","name":null,"original":{"line":28,"column":23},"generated":{"line":1,"column":582}},{"source":"../../src/index.ts","name":null,"original":{"line":28,"column":41},"generated":{"line":1,"column":584}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":10},"generated":{"line":1,"column":590}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":592}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":601}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":603}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":605}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":616}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":618}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":620}},{"source":"../../src/index.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":630}},{"source":"../../src/index.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":633}},{"source":"../../src/index.ts","name":null,"original":{"line":31,"column":23},"generated":{"line":1,"column":635}},{"source":"../../src/index.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":1,"column":646}},{"source":"../../src/index.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":1,"column":648}},{"source":"../../src/index.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":652}},{"source":"../../src/index.ts","name":null,"original":{"line":32,"column":37},"generated":{"line":1,"column":655}},{"source":"../../src/index.ts","name":null,"original":{"line":32,"column":44},"generated":{"line":1,"column":662}},{"source":"../../src/index.ts","name":null,"original":{"line":32,"column":51},"generated":{"line":1,"column":665}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":671}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":672}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":674}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":677}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":679}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":681}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":692}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":694}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":696}},{"source":"../../src/index.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":706}},{"source":"../../src/index.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":1,"column":709}},{"source":"../../src/index.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":712}},{"source":"../../src/index.ts","name":null,"original":{"line":40,"column":6},"generated":{"line":1,"column":713}},{"source":"../../src/index.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":721}},{"source":"../../src/index.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":1,"column":733}},{"source":"../../src/index.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":737}},{"source":"../../src/index.ts","name":null,"original":{"line":45,"column":67},"generated":{"line":1,"column":739}},{"source":"../../src/index.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":740}},{"source":"../../src/index.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":745}},{"source":"../../src/index.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":753}},{"source":"../../src/index.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":758}},{"source":"../../src/index.ts","name":null,"original":{"line":47,"column":9},"generated":{"line":1,"column":759}},{"source":"../../src/index.ts","name":null,"original":{"line":47,"column":31},"generated":{"line":1,"column":780}},{"source":"../../src/index.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":798}},{"source":"../../src/index.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":803}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":830}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":838}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":869}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":871}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":13},"generated":{"line":1,"column":875}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":38},"generated":{"line":1,"column":877}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":39},"generated":{"line":1,"column":886}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":118},"generated":{"line":1,"column":889}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":118},"generated":{"line":1,"column":895}},{"source":"../../src/index.ts","name":null,"original":{"line":52,"column":2},"generated":{"line":1,"column":896}},{"source":"../../src/index.ts","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":909}},{"source":"../../src/index.ts","name":null,"original":{"line":52,"column":17},"generated":{"line":1,"column":918}},{"source":"../../src/index.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":921}},{"source":"../../src/index.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":923}},{"source":"../../src/index.ts","name":null,"original":{"line":53,"column":20},"generated":{"line":1,"column":927}},{"source":"../../src/index.ts","name":null,"original":{"line":53,"column":44},"generated":{"line":1,"column":929}},{"source":"../../src/index.ts","name":null,"original":{"line":53,"column":52},"generated":{"line":1,"column":931}},{"source":"../../src/index.ts","name":null,"original":{"line":53,"column":72},"generated":{"line":1,"column":950}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":956}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":964}},{"source":"../../src/index.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":1,"column":987}}],"sources":{"../../src/index.ts":"import { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport {\n  BodyLengthCalculator,\n  BuildHandler,\n  BuildHandlerArguments,\n  BuildHandlerOptions,\n  BuildHandlerOutput,\n  BuildMiddleware,\n  MetadataBearer,\n  Pluggable,\n} from \"@aws-sdk/types\";\n\nconst CONTENT_LENGTH_HEADER = \"content-length\";\n\nexport function contentLengthMiddleware(bodyLengthChecker: BodyLengthCalculator): BuildMiddleware<any, any> {\n  return <Output extends MetadataBearer>(next: BuildHandler<any, Output>): BuildHandler<any, Output> => async (\n    args: BuildHandlerArguments<any>\n  ): Promise<BuildHandlerOutput<Output>> => {\n    const request = args.request;\n    if (HttpRequest.isInstance(request)) {\n      const { body, headers } = request;\n      if (\n        body &&\n        Object.keys(headers)\n          .map((str) => str.toLowerCase())\n          .indexOf(CONTENT_LENGTH_HEADER) === -1\n      ) {\n        const length = bodyLengthChecker(body);\n        if (length !== undefined) {\n          request.headers = {\n            ...request.headers,\n            [CONTENT_LENGTH_HEADER]: String(length),\n          };\n        }\n      }\n    }\n\n    return next({\n      ...args,\n      request,\n    });\n  };\n}\n\nexport const contentLengthMiddlewareOptions: BuildHandlerOptions = {\n  step: \"build\",\n  tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n  name: \"contentLengthMiddleware\",\n};\n\nexport const getContentLengthPlugin = (options: { bodyLengthChecker: BodyLengthCalculator }): Pluggable<any, any> => ({\n  applyToStack: (clientStack) => {\n    clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\n  },\n});\n"},"lineCount":null}},"error":null,"hash":"95a6fd0dc077923b61ecfcb661d30d36","cacheData":{"env":{}}}