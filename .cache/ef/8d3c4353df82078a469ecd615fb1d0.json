{"id":"lxMD","dependencies":[{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\datastore\\lib-esm\\predicates\\sort.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\datastore\\src\\predicates\\sort.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\package.json","includedInParent":true,"mtime":1602864672900},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\.babelrc","includedInParent":true,"mtime":1602860561937},{"name":"C:\\Users\\silve\\Downloads\\s3-demo\\node_modules\\@aws-amplify\\datastore\\package.json","includedInParent":true,"mtime":1602864668865}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ModelSortPredicateCreator=void 0;var e=function(){function e(){}return e.createPredicateBuilder=function(r){var t=r.name,i=new Set(Object.keys(r.fields)),o=new Proxy({},{get:function(r,o,a){var n=o;if(!i.has(n))throw new Error(\"Invalid field for model. field: \"+n+\", model: \"+t);return function(r){return e.sortPredicateGroupsMap.get(a).push({field:n,sortDirection:r}),a}}});return e.sortPredicateGroupsMap.set(o,[]),o},e.isValidPredicate=function(r){return e.sortPredicateGroupsMap.has(r)},e.getPredicates=function(r,t){if(void 0===t&&(t=!0),t&&!e.isValidPredicate(r))throw new Error(\"The predicate is not valid\");return e.sortPredicateGroupsMap.get(r)},e.createFromExisting=function(r,t){if(t&&r)return t(e.createPredicateBuilder(r))},e.sortPredicateGroupsMap=new WeakMap,e}();exports.ModelSortPredicateCreator=e;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":0}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":13}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":20}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":35}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":43}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":56}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":57}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":64}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":68}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":76}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":107}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":109}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":113}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":115}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":126}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":135}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":85,"column":0},"generated":{"line":1,"column":140}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":147}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":149}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":16,"column":1},"generated":{"line":1,"column":172}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":181}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":184}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":188}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":190}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":19,"column":10},"generated":{"line":1,"column":192}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":197}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":20,"column":21},"generated":{"line":1,"column":199}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":20,"column":25},"generated":{"line":1,"column":203}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":20,"column":38},"generated":{"line":1,"column":207}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":20,"column":45},"generated":{"line":1,"column":214}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":20,"column":50},"generated":{"line":1,"column":219}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":20,"column":66},"generated":{"line":1,"column":221}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":230}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":23,"column":20},"generated":{"line":1,"column":232}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":23,"column":24},"generated":{"line":1,"column":236}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":24,"column":3},"generated":{"line":1,"column":242}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":25,"column":14},"generated":{"line":1,"column":245}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":246}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":250}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":259}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":261}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":26,"column":30},"generated":{"line":1,"column":263}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":266}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":1,"column":270}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":27,"column":19},"generated":{"line":1,"column":272}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":274}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":278}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":280}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":1,"column":284}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":287}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":293}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":30,"column":16},"generated":{"line":1,"column":297}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":31,"column":7},"generated":{"line":1,"column":303}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":31,"column":42},"generated":{"line":1,"column":338}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":31,"column":47},"generated":{"line":1,"column":340}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":31,"column":59},"generated":{"line":1,"column":352}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":355}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":35,"column":20},"generated":{"line":1,"column":362}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":371}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":374}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":381}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":36,"column":32},"generated":{"line":1,"column":383}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":406}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":1,"column":410}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":38,"column":8},"generated":{"line":1,"column":413}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":418}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":38,"column":15},"generated":{"line":1,"column":419}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":38,"column":20},"generated":{"line":1,"column":425}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":427}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":38,"column":35},"generated":{"line":1,"column":441}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":445}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":1,"column":451}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":458}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":47,"column":28},"generated":{"line":1,"column":460}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":47,"column":51},"generated":{"line":1,"column":483}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":47,"column":55},"generated":{"line":1,"column":487}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":47,"column":66},"generated":{"line":1,"column":489}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":1,"column":493}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":496}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":498}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":52,"column":1},"generated":{"line":1,"column":515}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":524}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":527}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":534}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":55,"column":35},"generated":{"line":1,"column":536}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":55,"column":58},"generated":{"line":1,"column":559}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":55,"column":62},"generated":{"line":1,"column":563}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":567}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":569}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":58,"column":1},"generated":{"line":1,"column":583}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":592}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":594}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":63,"column":3},"generated":{"line":1,"column":597}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":605}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":609}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":613}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":616}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":63,"column":3},"generated":{"line":1,"column":619}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":1,"column":623}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":64,"column":30},"generated":{"line":1,"column":625}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":64,"column":47},"generated":{"line":1,"column":642}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":1,"column":645}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":66,"column":9},"generated":{"line":1,"column":651}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":66,"column":13},"generated":{"line":1,"column":655}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":66,"column":19},"generated":{"line":1,"column":661}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":691}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":698}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":69,"column":35},"generated":{"line":1,"column":700}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":69,"column":58},"generated":{"line":1,"column":723}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":69,"column":62},"generated":{"line":1,"column":727}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":731}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":733}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":73,"column":1},"generated":{"line":1,"column":752}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":74,"column":2},"generated":{"line":1,"column":761}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":75,"column":2},"generated":{"line":1,"column":763}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":766}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":77,"column":7},"generated":{"line":1,"column":769}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":77,"column":20},"generated":{"line":1,"column":772}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":774}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":781}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":82,"column":3},"generated":{"line":1,"column":783}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":82,"column":29},"generated":{"line":1,"column":785}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":82,"column":52},"generated":{"line":1,"column":808}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":11,"column":16},"generated":{"line":1,"column":813}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":11,"column":16},"generated":{"line":1,"column":815}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":11,"column":41},"generated":{"line":1,"column":838}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":11,"column":45},"generated":{"line":1,"column":842}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":85,"column":0},"generated":{"line":1,"column":850}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":852}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":855}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":863}},{"source":"../../src/predicates/sort.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":889}}],"sources":{"../../src/predicates/sort.ts":"import {\n\tPersistentModel,\n\tSchemaModel,\n\tSortPredicate,\n\tProducerSortPredicate,\n\tSortDirection,\n\tSortPredicatesGroup,\n} from '../types';\n\nexport class ModelSortPredicateCreator {\n\tprivate static sortPredicateGroupsMap = new WeakMap<\n\t\tSortPredicate<any>,\n\t\tSortPredicatesGroup<any>\n\t>();\n\n\tprivate static createPredicateBuilder<T extends PersistentModel>(\n\t\tmodelDefinition: SchemaModel\n\t) {\n\t\tconst { name: modelName } = modelDefinition;\n\t\tconst fieldNames = new Set<keyof T>(Object.keys(modelDefinition.fields));\n\n\t\tlet handler: ProxyHandler<SortPredicate<T>>;\n\t\tconst predicate = new Proxy(\n\t\t\t{} as SortPredicate<T>,\n\t\t\t(handler = {\n\t\t\t\tget(_target, propertyKey, receiver: SortPredicate<T>) {\n\t\t\t\t\tconst field = propertyKey as keyof T;\n\n\t\t\t\t\tif (!fieldNames.has(field)) {\n\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t`Invalid field for model. field: ${field}, model: ${modelName}`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = (sortDirection: SortDirection) => {\n\t\t\t\t\t\tModelSortPredicateCreator.sortPredicateGroupsMap\n\t\t\t\t\t\t\t.get(receiver)\n\t\t\t\t\t\t\t.push({ field, sortDirection });\n\n\t\t\t\t\t\treturn receiver;\n\t\t\t\t\t};\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t})\n\t\t);\n\n\t\tModelSortPredicateCreator.sortPredicateGroupsMap.set(predicate, []);\n\n\t\treturn predicate;\n\t}\n\n\tstatic isValidPredicate<T extends PersistentModel>(\n\t\tpredicate: any\n\t): predicate is SortPredicate<T> {\n\t\treturn ModelSortPredicateCreator.sortPredicateGroupsMap.has(predicate);\n\t}\n\n\tstatic getPredicates<T extends PersistentModel>(\n\t\tpredicate: SortPredicate<T>,\n\t\tthrowOnInvalid: boolean = true\n\t): SortPredicatesGroup<T> {\n\t\tif (\n\t\t\tthrowOnInvalid &&\n\t\t\t!ModelSortPredicateCreator.isValidPredicate(predicate)\n\t\t) {\n\t\t\tthrow new Error('The predicate is not valid');\n\t\t}\n\n\t\treturn ModelSortPredicateCreator.sortPredicateGroupsMap.get(predicate);\n\t}\n\n\t// transforms cb-style predicate into Proxy\n\tstatic createFromExisting<T extends PersistentModel>(\n\t\tmodelDefinition: SchemaModel,\n\t\texisting: ProducerSortPredicate<T>\n\t) {\n\t\tif (!existing || !modelDefinition) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn existing(\n\t\t\tModelSortPredicateCreator.createPredicateBuilder(modelDefinition)\n\t\t);\n\t}\n}\n"},"lineCount":null}},"error":null,"hash":"b9436bc4a986051555f9abf2c714e091","cacheData":{"env":{}}}